{"mappings":"AAAO,MAAMA,EAAO,CAChBC,KAAMC,SAASC,cAAc,mB,IC0BjCC,EAAe,C,KA3BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,QAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,UAI9BT,IACb,IACCK,aAAaQ,WAAWb,E,CAEvB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,ICpB7C,IAAIK,EAAa,GAGjBnB,EAAKC,KAAKmB,iBAAiB,SAE3B,UAAoBC,OAAEA,IACpB,MAAMC,KAAEA,EAAIhB,MAAEA,GAAUe,EAExBF,EAAWG,GAAQhB,EACpBF,EAAQmB,KARS,sBAQOJ,E,IALzBnB,EAAKC,KAAKmB,iBAAiB,UAoB3B,SAAoBI,GAGlB,GAFAA,EAAMC,kBAEDN,EAAWO,QAAUP,EAAWL,QAEnB,YADhBa,MAAM,sBAGRd,QAAQe,IAAIT,GAEZnB,EAAKC,KAAK4B,QACVV,EAAa,GACff,EAAQ0B,OAlCU,sB,IAWlB,WACE,MAAMC,EAAgB3B,EAAQ4B,KAZd,uBAchB,GAAID,EACF,IAAK,IAAIE,KAAMF,EACb/B,EAAKC,KAAKgC,GAAI3B,MAAQyB,EAAcE,GACpCd,EAAWc,GAAKF,EAAcE,E,CAIpCC","sources":["src/js/refs.js","src/js/storage.js","src/js/03-feedback.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector('.feedback-form'),\n};\n\n","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n   localStorage.removeItem(key);\n\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nexport default {\n  save,\n    load,\n  remove,\n};","import { refs } from \"./refs\";\nimport storage from \"./storage\";\n\nlet feedbackEl = {};\nconst LOCAL_KEY = \"feedback-form-state\";\n\nrefs.form.addEventListener('input', onSaveForm);\nrefs.form.addEventListener('submit', onSendForm)\nfunction onSaveForm({ target }) {\n  const { name, value } = target\n  \n  feedbackEl[name] = value  \n storage.save(LOCAL_KEY, feedbackEl)\n};\n\nfunction loadFeedback() {\n  const savedFeedback = storage.load(LOCAL_KEY);\n  // console.log(savedFeedback);\n  if (savedFeedback) {\n    for (let el in savedFeedback) {\n      refs.form[el].value = savedFeedback[el];\n      feedbackEl[el]= savedFeedback[el]\n  }\n}\n};\nloadFeedback()\n\nfunction onSendForm(event) {\n  event.preventDefault();\n\n  if (!feedbackEl.email || !feedbackEl.message) {\n    alert('Заповніть усі поля');\n    return\n  } \n  console.log(feedbackEl);\n\n  refs.form.reset();\n  feedbackEl = {};\nstorage.remove(LOCAL_KEY)\n\n}\n// // Отримайте посилання на елементи форми\n// const emailInput = form.elements.email;\n// const messageInput = form.elements.message;\n\n// // Отримайте збережені дані з локального сховища при завантаженні сторінки\n// const savedData = JSON.parse(localStorage.getItem(\"feedback-form-state\"));\n\n// // Заповніть поля форми збереженими даними або залиште їх порожніми\n// emailInput.value = savedData ? savedData.email : \"\";\n// messageInput.value = savedData ? savedData.message : \"\";\n\n// // Встановіть обробник події \"input\" на форму з використанням throttle\n// form.addEventListener(\"input\", throttle(saveFormData, 500));\n\n// // Збереження даних форми у локальне сховище\n// function saveFormData() {\n//   const formData = {\n//     email: emailInput.value,\n//     message: messageInput.value,\n//   };\n\n//   localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData));\n// }\n\n// // Обробник події \"submit\" для форми\n// form.addEventListener(\"submit\", (event) => {\n//   event.preventDefault();\n\n//   // Очищення локального сховища та полів форми\n//   localStorage.removeItem(\"feedback-form-state\");\n//   emailInput.value = \"\";\n//   messageInput.value = \"\";\n\n//   // Виведення даних форми у консоль\n//   console.log(\"Form Data:\", {\n//     email: emailInput.value,\n//     message: messageInput.value,\n//   });\n// });\n"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","form","document","querySelector","$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$945622fd0f572e60$var$feedbackEl","addEventListener","target","name","save","event","preventDefault","email","alert","log","reset","remove","savedFeedback","load","el","$945622fd0f572e60$var$loadFeedback"],"version":3,"file":"03-feedback.de1f68ad.js.map"}